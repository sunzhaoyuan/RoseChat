{
  "rules": {
    "chats": {
      "$chat": {
        ".validate": "newData.hasChildren(['senderUid', 'receiverUid', 'messageKey', 'text', 'timeStamp', 'sender', 'receiver'])",
        "senderUid": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "receiverUid": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "messageKey": {
          ".validate": "newData.isString()"
        },
        "text": {
          ".validate": "newData.isString()"
        },
        "timeStamp": {
          ".validate": "newData.isNumber()"
        },
        "sender": {
          ".validate": "newData.isString()"
        },
        "receiver": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": "false"
        }
      }
    },
    "contacts": {
      "$contact": {
        ".validate": "newData.hasChildren(['uid', 'nickName', 'profilePicUrl', 'email', 'phoneNumber', 'Schedule'])",
        "uid": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "nickName": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 15"
        },
        "profilePicUrl": {
          ".validate": "newData.isString()"
        },
        "email": {
          ".validate": "newData.isString()"
        },
        "phoneNumber": {
          ".validate": "newData.isNumber()"
        },
        "Schedule": {
          ".validate": "newData.isString()"
        },
        "Friends": {
          "$key1": {
            ".validate": "$key1.length <= 8 && newData.isBoolean()"
          },
          ".validate": "newData.hasChildren()"
        },
        "$other": {
          ".validate": "false"
        }
      }
    },
    "messages": {
      "$message": {
        ".validate": "newData.hasChildren(['name', 'lastMessage', 'senderUID', 'receiverUID'])",
        "name": {
          ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 15"
        },
        "lastMessage": {
          ".validate": "newData.isString()"
        },
        "senderUID": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "receiverUID": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "$other": {
          ".validate": "false"
        }
      }
    },
    "invitations": {
      "$invitation": {
        ".validate": "newData.hasChildren(['senderUID', 'receiverUID', 'text'])",
        "senderUID": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "receiverUID": {
          ".validate": "newData.isString() && newData.val().length <= 8"
        },
        "text": {
          ".validate": "newData.isString()"
        },
        "$other": {
          ".validate": "false"
        }
      }
    },
    ".read": "auth != null",
    ".write": "auth != null"
  }
}
